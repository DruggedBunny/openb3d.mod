<html><head><title>3D Sound reference</title>
<link rel=stylesheet Type=text/css href='../../../../doc/bmxstyle.css'>
</head><body>
<table width=100% cellspacing=0><tr align=center><td class=small>&nbsp;</td>
<td class=small width=1%><b>Openb3d.B3dsound:</b></td>
<td class=small width=1%><a href=#functions class=small>Functions</a></td>
<td class=small width=1%><a href=#types class=small>Types</a></td>
<td class=small width=1%><a href=#modinfo class=small>Modinfo</a></td>
<td class=small width=1%><a href='../../../../mod/openb3d.mod/b3dsound.mod/b3dsound.bmx' class=small>Source</a></td>
<td class=small>&nbsp;</td></tr></table>
<h1>3D Sound</h1>
You must stop all sounds associated with an entity before freeing it.
Call EntityStop3DSound() before freeing an entity if there is a chance it could be playing a sound.
Failure to stop sounds associated with a non-existent entity can cause your program to crash.
<h2><a name=functions></a>Functions Summary</h2><table class=doc width=100%>
<tr><td class=docleft width=1%><a href=#DopplerFrameSkip>DopplerFrameSkip</a></td><td class=docright>
Stops doppler effect for all objects for 1 update.
</td></tr>
<tr><td class=docleft width=1%><a href=#EntityPause3DSound>EntityPause3DSound</a></td><td class=docright>
Pauses all sounds attached to an entity.
</td></tr>
<tr><td class=docleft width=1%><a href=#EntityResume3DSound>EntityResume3DSound</a></td><td class=docright>
Resumes all paused sounds attached to an entity.
</td></tr>
<tr><td class=docleft width=1%><a href=#EntityStop3DSound>EntityStop3DSound</a></td><td class=docright>
Stops all sounds attached to an entity.
</td></tr>
<tr><td class=docleft width=1%><a href=#Init3DSound>Init3DSound</a></td><td class=docright>
Setup the 3D sound system.
</td></tr>
<tr><td class=docleft width=1%><a href=#List3DSounds>List3DSounds</a></td><td class=docright>
Finds sounds associated with an entity.
</td></tr>
<tr><td class=docleft width=1%><a href=#Pause3DSound>Pause3DSound</a></td><td class=docright>
Pauses a 3D Sound.
</td></tr>
<tr><td class=docleft width=1%><a href=#Que3DSound>Que3DSound</a></td><td class=docright>
Attaches a sound to an entity but does NOT start it playing.
</td></tr>
<tr><td class=docleft width=1%><a href=#Resume3DSound>Resume3DSound</a></td><td class=docright>
Resumes a pause 3D Sound.
</td></tr>
<tr><td class=docleft width=1%><a href=#Start3DSound>Start3DSound</a></td><td class=docright>
Attaches a sound to an entity and starts it playing.
</td></tr>
<tr><td class=docleft width=1%><a href=#Stop3DSound>Stop3DSound</a></td><td class=docright>
Stops a 3D Sound.
</td></tr>
<tr><td class=docleft width=1%><a href=#Update3DSounds>Update3DSounds</a></td><td class=docright>
Updates all the 3D sound channels.
</td></tr>
</table>
<h2><a name=types></a>Types Summary</h2><table class=doc width=100%>
<tr><td class=docleft width=1%><a href=#SoundPoint>SoundPoint</a></td><td class=docright>
SoundPoint Type.
</td></tr>
</table>
<h2
 id=functionsdet>Functions
</h2>
<table class=doc width=100% cellspacing=3 id=DopplerFrameSkip>
<tr><td class=doctop colspan=2>Function DopplerFrameSkip()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Stops doppler effect for all objects for 1 update.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>If you need to move your listen point in a way that you do not want to have effect the doppler
effect then call this before your next call to Update3DSounds. An example would be if you have a camera
looking at an object from a distance and then "change view" in your game by moving the camera close and
behind the object. This would normaly be a very fast move and cause a large doppler effect.
Call DopplerFrameSkip() somewhere durring the camera re-position, before the next call to Update3DSounds().</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=EntityPause3DSound>
<tr><td class=doctop colspan=2>Function EntityPause3DSound(NoisyEntity:TEntity)</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Pauses all sounds attached to an entity.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Pauses all sounds that are attached to an entity through the internal 3D sound point list.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=EntityResume3DSound>
<tr><td class=doctop colspan=2>Function EntityResume3DSound(NoisyEntity:TEntity)</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Resumes all paused sounds attached to an entity.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Resumes all paused sounds that are attached to an entity through the internal 3D sound point list.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=EntityStop3DSound>
<tr><td class=doctop colspan=2>Function EntityStop3DSound(NoisyEntity:TEntity)</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Stops all sounds attached to an entity.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Stops all sounds that are attached to an entity through the internal 3D sound point list.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=Init3DSound>
<tr><td class=doctop colspan=2>Function Init3DSound(ListeningEntity:TEntity, MaxRange:Float, ExaggerateDopplerScale:Float=DOPPLER_DISABLED)</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Setup the 3D sound system.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Call this before any other 3D sound calls<br>
The sound system can be re-initialized later without loosing the sounds currently playing.<br>
<br>
<b>ListeningEntity</b> is the entity you will hear sound through.<br>
<b>MaxRange</b> is the maximum distance a sound will be before it is silent<br>
<b>ExaggerateDopplerScale</b> <i>optional</i> is the amound to exagerate the doppler effect bye.
Setting it to DOPPLER_DISABLED, or leaving it blank will dissable the doppler effect.
A value of 1 will use accurate doppler effect (1 unit = 1 meter).
An appropriate value will be dependent on the speeds of objects in your program.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=List3DSounds>
<tr><td class=doctop colspan=2>Function List3DSounds:TList(NoisyEntity:TEntity)</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>TList of Sound Points attached to the entity.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Finds sounds associated with an entity.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Finds and returns all sound points attached to the passed entity.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=Pause3DSound>
<tr><td class=doctop colspan=2>Function Pause3DSound(TheSoundPoint:SoundPoint)</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Pauses a 3D Sound.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Wrapper for SoundPoint.Pause = True for more logical programing.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=Que3DSound>
<tr><td class=doctop colspan=2>Function Que3DSound:SoundPoint(TheSound:TSound, NoisyEntity:TEntity, Loudness:Float=1, Volume:Float=1)</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Sound Point so you can control the sound further. You can ignore the value as it is held in.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Attaches a sound to an entity but does NOT start it playing.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=Resume3DSound>
<tr><td class=doctop colspan=2>Function Resume3DSound(TheSoundPoint:SoundPoint)</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Resumes a pause 3D Sound.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Wrapper for SoundPoint.Pause = False for more logical programing.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=Start3DSound>
<tr><td class=doctop colspan=2>Function Start3DSound:SoundPoint(TheSound:TSound, NoisyEntity:TEntity, Loudness:Float=1, Volume:Float=1)</td></tr>
<tr><td class=docleft width=1%>Returns</td><td class=docright>Sound Point so you can control it further. You can ignore the return value as it is held in.</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Attaches a sound to an entity and starts it playing.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=Stop3DSound>
<tr><td class=doctop colspan=2>Function Stop3DSound(TheSoundPoint:SoundPoint)</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Stops a 3D Sound.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Wrapper for SoundPoint.Stop() for more logical programing.</td></tr>
</table>
<br>
<table class=doc width=100% cellspacing=3 id=Update3DSounds>
<tr><td class=doctop colspan=2>Function Update3DSounds()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Updates all the 3D sound channels.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>Should be called (optimaly) once per loop, preferably after positions and collisions have been handled.</td></tr>
</table>
<br>
<h2
 id=typesdet>Types
</h2>
<table class=doc width=100% cellspacing=3 id=SoundPoint>
<tr><td class=doctop colspan=2>Type SoundPoint</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>SoundPoint Type.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>A SoundPoint is a point that plays a sound in 3D space.</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=SoundPoint_fields></a>Fields Summary</th></tr><tr><td colspan=2>
<a href=#Depth>Depth</a>
, 
<a href=#DepthBump>DepthBump</a>
, 
<a href=#EmiterObject>EmiterObject</a>
, 
<a href=#Loudness>Loudness</a>
, 
<a href=#MasterVolume>MasterVolume</a>
, 
<a href=#Pan>Pan</a>
, 
<a href=#PanBump>PanBump</a>
, 
<a href=#Paused>Paused</a>
, 
<a href=#Rate>Rate</a>
, 
<a href=#RateBump>RateBump</a>
, 
<a href=#SoundChannel>SoundChannel</a>
, 
<a href=#Volume>Volume</a>
, 
<a href=#VolumeBump>VolumeBump</a>
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=SoundPoint_methods></a>Methods Summary</th></tr>
<tr><td class=docleft width=1%><a href=#Stop>Stop</a></td><td class=docright>
Stops a sound and removes it from the sound system.
</td></tr>
<tr><td class=docleft width=1%><a href=#Update>Update</a></td><td class=docright>
Updates the sound channel and it's positional information, as well as clearing the channel if the sound is done playing.
</td></tr>
</table>
<table class=doc width=90% align=center><tr ><th class=doctop colspan=2 align=left><a name=SoundPoint_functions></a>Functions Summary</th></tr>
<tr><td class=docleft width=1%><a href=#Create>Create</a></td><td class=docright>
Creates a new sound point.
</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Depth>
<tr><td class=doctop colspan=2>Field Depth:Float</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>The depth point of the sound.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=DepthBump>
<tr><td class=doctop colspan=2>Field DepthBump:Float</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>The depth bump.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>When calculating the sound channels depth this number will be added to the new pan.<br>
If you set any bump vairable to UPDATE_DISABLED then that primary variable will no longer be updated
and can be directly modified. For example, setting VolumeBump = UPDATE_DISABLED will stop the Volume
variable from updating so you can change it Directly.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=EmiterObject>
<tr><td class=doctop colspan=2>Field EmiterObject:TEntity</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>The Entity that is emiting the sound.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Loudness>
<tr><td class=doctop colspan=2>Field Loudness:Float</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>The "loudness" of the sound.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=MasterVolume>
<tr><td class=doctop colspan=2>Field MasterVolume:Float</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>The base volume of the sound.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Pan>
<tr><td class=doctop colspan=2>Field Pan:Float</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>The pan point of the sound.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=PanBump>
<tr><td class=doctop colspan=2>Field PanBump:Float</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>The pan bump.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>When calculating the sound channels pan this number will be added to the new pan.<br>
If you set any bump vairable to UPDATE_DISABLED then that primary variable will no longer be updated
and can be directly modified. For example, setting VolumeBump = UPDATE_DISABLED will stop the Volume
variable from updating so you can change it Directly.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Paused>
<tr><td class=doctop colspan=2>Field Paused:Byte = False</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Pause status.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>If a song is paused it will still be updated and held, but will not play.
To pause a sound, change it's paused value to true and update the sound.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Rate>
<tr><td class=doctop colspan=2>Field Rate:Float = 1</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>The play rate of the sound.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=RateBump>
<tr><td class=doctop colspan=2>Field RateBump:Float</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>The play rate bump.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>When calculating the sound channels play rate this number will be added to the new rate.<br>
If you set any bump vairable to UPDATE_DISABLED then that primary variable will no longer be updated
and can be directly modified. For example, setting VolumeBump = UPDATE_DISABLED will stop the Volume
variable from updating so you can change it Directly.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=SoundChannel>
<tr><td class=doctop colspan=2>Field SoundChannel:TChannel</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>The channel the sound is playing in.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Volume>
<tr><td class=doctop colspan=2>Field Volume:Float</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>The volume of the sound.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=VolumeBump>
<tr><td class=doctop colspan=2>Field VolumeBump:Float</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>The volume bump.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>When calculating the sound channels volume this number will be added to the new volume.<br>
If you set any bump vairable to UPDATE_DISABLED then that primary variable will no longer be updated
and can be directly modified. For example, setting VolumeBump = UPDATE_DISABLED will stop the Volume
variable from updating so you can change it Directly.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Stop>
<tr><td class=doctop colspan=2>Method Stop()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Stops a sound and removes it from the sound system.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>This will stop a sound point while playing and free it's resources.</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Update>
<tr><td class=doctop colspan=2>Method Update()</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Updates the sound channel and it's positional information, as well as clearing the channel if the sound is done playing.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>To update all sounds at once use Update3DSounds()</td></tr>
</table>
<table class=doc width=100% cellspacing=3 id=Create>
<tr><td class=doctop colspan=2>Function Create:SoundPoint(TheSound:TSound, NoisyEntity:TEntity, EntityLoudness:Float=1, Volume:Float=1, Qued:Byte = False)</td></tr>
<tr><td class=docleft width=1%>Description</td><td class=docright>Creates a new sound point.</td></tr>
<tr><td class=docleft width=1%>Information</td><td class=docright>To create a sound use Start3DSound to allow for future changes to the system.</td></tr>
</table>
<br>
<h2 id=modinfo>Module Information</h2>
<table width=100%>
<tr><th width=1%>Version</th><td>1.2</td></tr>
<tr><th width=1%>Author</th><td>Logan Chittenden</td></tr>
<tr><th width=1%>License</th><td>You are free to use this code as you please.</td></tr>
<tr><th width=1%>History</th><td>1.2 Added Stop3DSound() : EntityStop3DSound() : Pause3DSound() : EntityPause3DSound() :</td></tr>
<tr><th width=1%>Resume3DSound()</th><td>EntityResume3DSound() : Fixed some misc memory bugs. Removed redundent lines.</td></tr>
<tr><th width=1%>History</th><td>1.1 Added DopplerFrameSkip() : Que3DSound() : UPDATE_DISABLED option :</td></tr>
<tr><th width=1%>SoundPoint.Playing</th><td>List3DSounds() : Fixed un-necessarily confusing dopper effect stuff.</td></tr>
<tr><th width=1%>History</th><td>1.0 Initial Release</td></tr>
</body></html>
